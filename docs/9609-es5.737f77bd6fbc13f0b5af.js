!function(){function e(e,t,n,r,o,i,u){try{var s=e[i](u),c=s.value}catch(a){return void n(a)}s.done?t(c):Promise.resolve(c).then(r,o)}function t(t){return function(){var n=this,r=arguments;return new Promise(function(o,i){var u=t.apply(n,r);function s(t){e(u,o,i,s,c,"next",t)}function c(t){e(u,o,i,s,c,"throw",t)}s(void 0)})}}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}function i(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(self.webpackChunkblobile=self.webpackChunkblobile||[]).push([[9609],{49609:function(e,i,u){"use strict";u.r(i),u.d(i,{EventSource:function(){return f},EventSourceWeb:function(){return a}});var s=u(68384),c=(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSED=2]="CLOSED"}(c||(c={})),c),a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}(p,e);var i,u,s,a,f,l,h=o(p);function p(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(e=h.call(this,{name:"EventSource",platforms:["web"]})).opened=!1,e}return i=p,(u=[{key:"configure",value:(l=t(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.debug("EventSourceWeb.configure(".concat(t.url,")")),t.url){e.next=2;break}throw new Error("url is required");case 2:this.url=t.url;case 3:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"open",value:(f=t(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.debug("EventSourceWeb.open()"),this.url){e.next=2;break}throw new Error("You must call configure first!");case 2:this.notifyListeners("readyStateChanged",{state:c.CONNECTING}),this.eventSource=new window.EventSource(this.url),this.eventSource.onopen=this.onOpen.bind(this),this.eventSource.onmessage=this.onMessage.bind(this),this.eventSource.onerror=this.onError.bind(this);case 3:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"onError",value:function(e){this.notifyListeners("error",{error:null==e?void 0:e.message})}},{key:"onMessage",value:function(e){this.opened&&this.notifyListeners("message",{message:null==e?void 0:e.data})}},{key:"onOpen",value:function(e){this.opened=!0,this.notifyListeners("open",{message:null==e?void 0:e.message}),this.notifyListeners("readyStateChanged",{state:c.OPEN})}},{key:"close",value:(a=t(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.debug("EventSourceWeb.close()"),this.opened=!1,this.eventSource&&(this.eventSource.close(),this.eventSource.onopen=null,this.eventSource.onmessage=null,this.eventSource.onerror=null,this.eventSource=null,this.notifyListeners("readyStateChanged",{state:c.CLOSED}));case 1:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})}])&&n(i.prototype,u),s&&n(i,s),p}(s.Uw),f=new a;(0,s.fK)(f)}}])}();
//# sourceMappingURL=9609-es5.737f77bd6fbc13f0b5af.js.map