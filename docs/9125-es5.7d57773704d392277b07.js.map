{"version":3,"mappings":"2kDAMMA,sBACEA,uBACFA,kCAOFA,yBAEEA,cAAIA,SAAgBA,QACtBA,sCADMA,iDAqBQA,sBACEA,kBACEA,SACFA,QACFA,iDAHoBA,qCAChBA,6DAINA,mBACEA,sBACEA,kBACEA,SACFA,QACFA,QACAA,sBACEA,kBACEA,mBAAoBA,SAAiCA,QACrDA,mBAAmBA,SAAoCA,QACzDA,QACFA,QACAA,uBACEA,mBACEA,UACFA,QACFA,QACFA,iDAfsBA,qCAChBA,mCAIgBA,qCACIA,0CACDA,6CAIHA,qCAChBA,0DAINA,mBACEA,sBACEA,kBACEA,gBAAMA,sBAAUA,QAClBA,QACFA,QACFA,kCA7CNA,uBACEA,+BACEA,uBACEA,mBACEA,sBACEA,kBACEA,SACFA,QACFA,QACAA,sBACEA,kBACEA,mBAAoBA,UAAiCA,QACrDA,oBAAmBA,UAAoCA,QACzDA,QACFA,QACAA,6BAKFA,QACAA,8BAkBAA,4BAOFA,QACFA,QACFA,2CA3C4BA,qCAChBA,mCAIgBA,qCACIA,0CACDA,6CAGuEA,iCAMtFA,iCAkBAA,0DA2BRA,sBACEA,kBACEA,SACFA,QACFA,iDAHoBA,qCAChBA,6DAINA,mBACEA,sBACEA,kBACEA,SACFA,QACFA,QACAA,sBACEA,kBACEA,mBAAoBA,SAAiCA,QACrDA,mBAAmBA,SAAoCA,QACzDA,QACFA,QACAA,uBACEA,mBACEA,UACFA,QACFA,QACFA,iDAfsBA,qCAChBA,mCAIgBA,qCACIA,0CACDA,6CAIHA,qCAChBA,0DAINA,mBACEA,sBACEA,kBACEA,gBAAMA,sBAAUA,QAClBA,QACFA,QACFA,kCA7CNA,uBACEA,+BACEA,uBACEA,mBACEA,sBACEA,kBACEA,SACFA,QACFA,QACAA,sBACEA,kBACEA,mBAAoBA,UAAiCA,QACrDA,oBAAmBA,UAAoCA,QACzDA,QACFA,QACAA,6BAKFA,QACAA,8BAkBAA,4BAOFA,QACFA,QACFA,2CA3C4BA,qCAChBA,mCAIgBA,qCACIA,0CACDA,6CAGuEA,iCAMtFA,iCAkBAA,0DAnGxBA,gBACEA,8BAKAA,oBACEA,mBACEA,qBACEA,8BAiDFA,QACAA,qBACEA,8BAiDFA,QACFA,QACFA,QA+BFA,2CA5IKA,8BAOiCA,wCAAwB,qBAmDxBA,yCAAyB,+CA7DjEA,yBACEA,wBA+IFA,4BA/I4BA,sCCV5B,ICiBMC,EDjBAC,EAAiB,CACrB,CACEC,KAAM,GACNC,WCcEH,EAAN,WAMEI,WACUC,EACAC,EACAC,EACAC,aAHAC,gBACAA,uBACAA,gBACAA,cATVA,gBAGAA,WAAQ,aAJV,qCAcQC,4LACED,KAAKE,SAASC,QADhBF,OAEJD,KAAKI,OAAOC,UAAiBT,qBAAyBU,sBAAzBV,wBAAyB,4FAChDA,aAAeW,MACjBP,KAAKQ,WAAaZ,GAEpBI,KAAKS,cAJ+C,gDAFlDR,gDAdR,sBAwBQS,SAASd,yJACkBA,OAA/Be,QAAQC,MAAR,wBAA+BhB,IADlBA,SAEOI,KAAKa,gBAAgBC,OAAO,CAC9CpB,UAAWqB,IACXC,eAAgB,CACdC,QALSrB,OACkBA,OADlBA,SACkBA,OAOZsB,UARNtB,wFAxBjB,sBAmCEuB,SAASvB,EAAkBC,GACzB,IACME,EAAOC,KAAKoB,MADFxB,YAAWC,EAAXD,UAIhB,kCAFmBG,EAAKsB,UAExB,oBADmBtB,EAAKuB,qBACxB,OAxCJ,yBA2CQb,yLACJT,KAAKuB,SAAW,GADZd,IAGmBT,KAAKQ,WAAWgB,MAAMC,aAHzChB,IAGJ,2BAA0D,CAKxD,IALOb,EAAiD8B,QAClD7B,EAAO,GACPC,EAAM,GAENC,EAAO4B,KAAKC,MAAMhC,EAAWiC,SAASC,OAAS,GAC5CC,EAAE,EAAGA,EAAInC,EAAWiC,SAASC,OAAQC,IACxCA,EAAIhC,EACND,EAAIkC,KAAKpC,EAAWiC,SAASE,IAE7BlC,EAAKmC,KAAKpC,EAAWiC,SAASE,IAIlC/B,KAAKuB,SAASS,KAAK,CACjBC,KAAMrC,EAAWsC,SAASD,KAC1BE,aAActC,EACduC,YAAatC,KAnBbW,kCAuBeT,KAAKQ,WAAW6B,QAAQjB,OAvBvCX,IAuBJ,2BAAWb,EAAX0C,QACEtC,KAAKoB,MAAMxB,EAAKqB,IAAMrB,EAxBpBa,8BAiCJT,KAAKuC,WAjCD9B,gDA3CR,gBA+EEQ,SAAGrB,GACD,OAAIA,GAAQA,EAAKqB,GACRrB,EAAKqB,GAEPrB,kCAnFXL,KAmFWK,sCAnFEL,GAAYD,wEAAZC,EAAYiD,ygCFrBzBlD,wBACEA,yBACEA,qBACEA,sBACFA,QACAA,yBACEA,8BAGFA,QACFA,QACFA,QAEAA,sCAbYA,wBAMOA,iCAOgCA,4mBEQtCC,KDNAkD,EAAb,eAAMlD,EAAN,wBAAM,6CAAOA,4DAHF,CAACmD,cAAsBlD,IACtBkD,QAECnD,EAAb,cEIaoD,EAAb,eAAMpD,EAAN,wBAAM,6CAAOA,4DATF,CACPqD,KACAC,KACAC,KACAC,IACAN,MAISlD,EAAb","names":["n","t","N","path","component","constructor","o","i","g","r","this","ngOnInit","platform","ready","stream","subscribe","l","Z","streamData","postprocess","openTeam","console","debug","modalController","create","_","componentProps","id","present","getStyle","teams","mainColor","contrastingMainColor","brackets","games","postseasons","_step","Math","floor","matchups","length","s","push","name","playoffs","evenMatchups","oddMatchups","leagues","_step2","loading","selectors","C","d","b","a","p","u","Y"],"sources":["webpack:///src/app/matchups/matchups.page.html","webpack:///src/app/matchups/matchups-routing.module.ts","webpack:///src/app/matchups/matchups.page.ts","webpack:///src/app/matchups/matchups.module.ts"],"sourcesContent":["<ion-header [translucent]=\"true\">\n  <ion-toolbar color=\"primary\">\n    <ion-title>\n      Matchups\n    </ion-title>\n    <ion-buttons slot=\"secondary\">\n      <ion-button *ngIf=\"loading\">\n        <ion-spinner></ion-spinner>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-no-margin ion-no-padding\" *ngIf=\"!loading && streamData\">\n  <span *ngFor=\"let bracket of brackets\">\n    <ion-header class=\"ion-no-border ion-text-center\"\n      *ngIf=\"bracket.name\">\n      <h4>{{bracket.name}}</h4>\n    </ion-header>\n\n    <ion-grid>\n      <ion-row>\n        <ion-col size=\"12\" size-sm=\"12\" size-md=\"6\" size-lg=\"6\" size-xl=\"6\" class=\"ion-no-padding ion-no-margin\">\n          <ion-card *ngFor=\"let matchup of bracket.oddMatchups; trackBy: id\" class=\"ion-margin-vertical\">\n            <ion-card-content class=\"ion-no-padding ion-no-margin\">\n              <ion-grid class=\"ion-no-padding ion-no-margin\">\n                <ion-row>\n                  <ion-col size=\"2\" class=\"ion-text-end ion-align-items-center ion-no-margin ion-no-padding\">\n                    <div class=\"seed\" [style]=\"getStyle(matchup, 'home')\">\n                      {{matchup.homeSeed}}\n                    </div>\n                  </ion-col>\n                  <ion-col class=\"ion-text-start ion-align-items-center ion-no-margin ion-no-padding\">\n                    <div class=\"team\" [style]=\"getStyle(matchup, 'home')\">\n                      <span class=\"emoji\">{{teams[matchup.homeTeam].emoji}}</span>\n                      <span class=\"name\">{{teams[matchup.homeTeam].fullName}}</span>\n                    </div>\n                  </ion-col>\n                  <ion-col size=\"1\" class=\"ion-text-start ion-align-items-center ion-no-margin ion-no-padding\" *ngIf=\"!matchup.idling\">\n                    <div class=\"wins\" [style]=\"getStyle(matchup, 'home')\">\n                      {{matchup.homeWins}}\n                    </div>\n                  </ion-col>\n                </ion-row>\n                <ion-row *ngIf=\"!matchup.idling\">\n                  <ion-col size=\"2\" class=\"ion-text-end ion-align-items-center ion-no-margin ion-no-padding\">\n                    <div class=\"seed\" [style]=\"getStyle(matchup, 'away')\">\n                      {{matchup.awaySeed}}\n                    </div>\n                  </ion-col>\n                  <ion-col class=\"ion-text-start ion-align-items-center ion-no-margin ion-no-padding\">\n                    <div class=\"team\" [style]=\"getStyle(matchup, 'away')\">\n                      <span class=\"emoji\">{{teams[matchup.awayTeam].emoji}}</span>\n                      <span class=\"name\">{{teams[matchup.awayTeam].fullName}}</span>\n                    </div>\n                  </ion-col>\n                  <ion-col size=\"1\" class=\"ion-text-start ion-align-items-center ion-no-margin ion-no-padding\">\n                    <div class=\"wins\" [style]=\"getStyle(matchup, 'away')\">\n                      {{matchup.awayWins}}\n                    </div>\n                  </ion-col>\n                </ion-row>\n                <ion-row *ngIf=\"matchup.idling\">\n                  <ion-col class=\"ion-text-center\">\n                    <div class=\"idling\">\n                      <span>idling ...</span>\n                    </div>\n                  </ion-col>\n                </ion-row>\n              </ion-grid>\n            </ion-card-content>\n          </ion-card>\n        </ion-col>\n        <ion-col size=\"12\" size-sm=\"12\" size-md=\"6\" size-lg=\"6\" size-xl=\"6\" class=\"ion-no-padding ion-no-margin\">\n          <ion-card *ngFor=\"let matchup of bracket.evenMatchups; trackBy: id\" class=\"ion-margin-vertical\">\n            <ion-card-content class=\"ion-no-padding ion-no-margin\">\n              <ion-grid class=\"ion-no-padding ion-no-margin\">\n                <ion-row>\n                  <ion-col size=\"2\" class=\"ion-text-end ion-align-items-center ion-no-margin ion-no-padding\">\n                    <div class=\"seed\" [style]=\"getStyle(matchup, 'home')\">\n                      {{matchup.homeSeed}}\n                    </div>\n                  </ion-col>\n                  <ion-col class=\"ion-text-start ion-align-items-center ion-no-margin ion-no-padding\">\n                    <div class=\"team\" [style]=\"getStyle(matchup, 'home')\">\n                      <span class=\"emoji\">{{teams[matchup.homeTeam].emoji}}</span>\n                      <span class=\"name\">{{teams[matchup.homeTeam].fullName}}</span>\n                    </div>\n                  </ion-col>\n                  <ion-col size=\"1\" class=\"ion-text-start ion-align-items-center ion-no-margin ion-no-padding\" *ngIf=\"!matchup.idling\">\n                    <div class=\"wins\" [style]=\"getStyle(matchup, 'home')\">\n                      {{matchup.homeWins}}\n                    </div>\n                  </ion-col>\n                </ion-row>\n                <ion-row *ngIf=\"!matchup.idling\">\n                  <ion-col size=\"2\" class=\"ion-text-end ion-align-items-center ion-no-margin ion-no-padding\">\n                    <div class=\"seed\" [style]=\"getStyle(matchup, 'away')\">\n                      {{matchup.awaySeed}}\n                    </div>\n                  </ion-col>\n                  <ion-col class=\"ion-text-start ion-align-items-center ion-no-margin ion-no-padding\">\n                    <div class=\"team\" [style]=\"getStyle(matchup, 'away')\">\n                      <span class=\"emoji\">{{teams[matchup.awayTeam].emoji}}</span>\n                      <span class=\"name\">{{teams[matchup.awayTeam].fullName}}</span>\n                    </div>\n                  </ion-col>\n                  <ion-col size=\"1\" class=\"ion-text-start ion-align-items-center ion-no-margin ion-no-padding\">\n                    <div class=\"wins\" [style]=\"getStyle(matchup, 'away')\">\n                      {{matchup.awayWins}}\n                    </div>\n                  </ion-col>\n                </ion-row>\n                <ion-row *ngIf=\"matchup.idling\">\n                  <ion-col class=\"ion-text-center\">\n                    <div class=\"idling\">\n                      <span>idling ...</span>\n                    </div>\n                  </ion-col>\n                </ion-row>\n              </ion-grid>\n            </ion-card-content>\n          </ion-card>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n    <!--\n    <ion-grid>\n      <ion-row>\n        <ion-col *ngFor=\"let subleague of data.subleagues; trackBy: id\">\n          <ion-header class=\"ion-no-border ion-text-center\">\n            <h4>{{subleague.name}}</h4>\n          </ion-header>\n          <ion-card class=\"ion-no-padding ion-no-margin ion-margin-vertical\" *ngFor=\"let division of subleague.divisions; trackBy: id\">\n            <ion-card-header>\n              <ion-card-subtitle>{{division.name}}</ion-card-subtitle>\n            </ion-card-header>\n            <ion-card-content class=\"ion-no-padding\">\n              <ion-item\n                lines=\"none\"\n                class=\"team-row\"\n                [style]=\"'--background: ' + team.mainColor + '; --color: ' + team.mainTextColor\"\n                *ngFor=\"let team of division.teams; trackBy: id\"\n                (click)=\"openTeam(team.id)\"\n              >\n                <ion-label class=\"team-name\">{{team.name}}</ion-label>\n                <ion-note class=\"team-wins\" slot=\"end\" [style]=\"'--color: ' + team.mainTextColor\">\n                  {{team.wins}}-{{team.losses}}\n              </ion-note>\n              </ion-item>\n            </ion-card-content>\n          </ion-card>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n    -->\n  </span>\n</ion-content>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { MatchupsPage as MatchupsPage } from './matchups.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MatchupsPage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class MatchupsPageRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ModalController, Platform } from '@ionic/angular';\n\nimport { APIStream } from 'src/lib/api/stream';\nimport { StreamData } from 'src/lib/model/streamData';\nimport { Team } from 'src/lib/model/team';\nimport { APIDatabase } from 'src/lib/api/database';\nimport { TeamPage } from '../team-page/team-page.page';\nimport { Matchup } from 'src/lib/model/matchup';\n\ninterface Brackets {\n  name: string;\n  evenMatchups: Matchup[];\n  oddMatchups: Matchup[];\n}\n\n@Component({\n  selector: 'app-matchups',\n  templateUrl: 'matchups.page.html',\n  styleUrls: ['matchups.page.scss']\n})\nexport class MatchupsPage implements OnInit {\n  loading = true;\n  streamData: StreamData;\n  brackets: Brackets[];\n  teams = {} as { [key: string]: Team };\n\n  constructor(\n    private database: APIDatabase,\n    private modalController: ModalController,\n    private platform: Platform,\n    private stream: APIStream,\n  ) {\n  }\n\n  async ngOnInit(): Promise<void> {\n    await this.platform.ready();\n    this.stream.subscribe(async (evt: StreamData|Event) => {\n      if (evt instanceof StreamData) {\n        this.streamData = evt;\n      }\n      this.postprocess();\n    });\n  }\n\n  async openTeam(id: string) {\n    console.debug(`opening team: ${id}`);\n    const modal = await this.modalController.create({\n      component: TeamPage,\n      componentProps: {\n        id,\n      },\n    });\n    return await modal.present();\n  }\n\n  getStyle(matchup: Matchup, type: string) {\n    const teamId  = matchup[`${type}Team`];\n    const team = this.teams[teamId];\n    const background = team.mainColor;\n    const foreground = team.contrastingMainColor;\n    return `background-color: ${background}; color: ${foreground};`;\n  }\n\n  async postprocess() {\n    this.brackets = [];\n\n    for (let postseason of this.streamData.games.postseasons) {\n      const even = [];\n      const odd = [];\n\n      const rows = Math.floor(postseason.matchups.length / 2);\n      for (let i=0; i < postseason.matchups.length; i++) {\n        if (i < rows) {\n          odd.push(postseason.matchups[i]);\n        } else {\n          even.push(postseason.matchups[i]);\n        }\n      }\n\n      this.brackets.push({\n        name: postseason.playoffs.name,\n        evenMatchups: even,\n        oddMatchups: odd,\n      });\n    }\n\n    for (const team of this.streamData.leagues.teams) {\n      this.teams[team.id] = team;\n    }\n\n    /*\n    console.debug('MatchupsPage.postprocess(): even=', this.evenMatchups);\n    console.debug('MatchupsPage.postprocess(): odd=', this.oddMatchups);\n    console.debug('MatchupsPage.postprocess(): teams=', this.teams);\n    */\n\n    this.loading = false;\n  }\n\n  id(item: any) {\n    if (item && item.id) {\n      return item.id;\n    }\n    return item;\n  }\n}\n","import { IonicModule } from '@ionic/angular';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatchupsPage as MatchupsPage } from './matchups.page';\n\nimport { MatchupsPageRoutingModule } from './matchups-routing.module';\nimport { TeamComponentModule } from '../team/team.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    TeamComponentModule,\n    MatchupsPageRoutingModule\n  ],\n  declarations: [MatchupsPage]\n})\nexport class MatchupsPageModule {}\n"]}