"use strict";(self.webpackChunkblobile=self.webpackChunkblobile||[]).push([[6793],{16793:function(e,n,t){t.r(n),t.d(n,{SettingsPageModule:function(){return E}});var o=t(54364),i=t(90335),a=t(95861),c=t(31289),r=t(3786),l=t(45619),s=t(22574),u=t(57097),g=t(64106),d=t(30748),f=t(4913),h=t(28499),m=t(18456);function p(e,n){1&e&&(g.TgZ(0,"ion-button"),g._UZ(1,"ion-spinner"),g.qZA())}function v(e,n){if(1&e){const e=g.EpF();g.TgZ(0,"ion-toggle",13),g.NdJ("ionChange",function(){return g.CHM(e),g.oxw(2).setBetaEnabled()})("ngModelChange",function(n){return g.CHM(e),g.oxw(2).current.betaEnabled=n}),g.qZA()}if(2&e){const e=g.oxw(2);g.Q6J("ngModel",e.current.betaEnabled)}}function Z(e,n){if(1&e&&(g.TgZ(0,"ion-item"),g.TgZ(1,"ion-label",14),g._uU(2),g.qZA(),g._UZ(3,"ion-progress-bar",15),g.qZA()),2&e){const e=g.oxw(2);g.xp6(2),g.hij("",e.updateService.phase,":"),g.xp6(1),g.s9C("value",e.updateService.percentDone)}}function C(e,n){if(1&e){const e=g.EpF();g.TgZ(0,"ion-item",16),g.TgZ(1,"ion-label",6),g._uU(2,"A content update is available."),g.qZA(),g.TgZ(3,"ion-button",17),g.NdJ("click",function(){return g.CHM(e),g.oxw(2).updateService.reload()}),g._uU(4,"Apply"),g.qZA(),g.qZA()}}function T(e,n){if(1&e){const e=g.EpF();g.TgZ(0,"ion-toggle",13),g.NdJ("ionChange",function(){return g.CHM(e),g.oxw(2).setBoolean("disableSleep")})("ngModelChange",function(n){return g.CHM(e),g.oxw(2).current.disableSleep=n}),g.qZA()}if(2&e){const e=g.oxw(2);g.Q6J("ngModel",e.current.disableSleep)}}function x(e,n){if(1&e&&(g.TgZ(0,"span"),g.TgZ(1,"ion-list-header",5),g.TgZ(2,"h3"),g._uU(3,"Automatic Updates"),g.qZA(),g.qZA(),g.TgZ(4,"ion-item"),g.TgZ(5,"ion-label",6),g._uU(6,"Receive content updates early?"),g.qZA(),g.YNc(7,v,1,1,"ion-toggle",7),g.qZA(),g.YNc(8,Z,4,2,"ion-item",3),g.YNc(9,C,5,0,"ion-item",12),g.TgZ(10,"ion-list-header",5),g.TgZ(11,"h3"),g._uU(12,"Disable Sleep"),g.qZA(),g.qZA(),g.TgZ(13,"ion-item"),g.TgZ(14,"ion-label",6),g._uU(15,"Disable sleep while games are active?"),g.qZA(),g.YNc(16,T,1,1,"ion-toggle",7),g.qZA(),g.qZA()),2&e){const e=g.oxw();g.xp6(7),g.Q6J("ngIf",e.current),g.xp6(1),g.Q6J("ngIf",e.updateService.updateAvailable&&!e.updateService.updateReady&&e.updateService.percentDone),g.xp6(1),g.Q6J("ngIf",e.updateService.updateReady),g.xp6(7),g.Q6J("ngIf",e.current)}}function b(e,n){if(1&e){const e=g.EpF();g.TgZ(0,"ion-toggle",13),g.NdJ("ionChange",function(){return g.CHM(e),g.oxw().setBoolean("reduceMotion")})("ngModelChange",function(n){return g.CHM(e),g.oxw().current.reduceMotion=n}),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("ngModel",e.current.reduceMotion)}}function A(e,n){if(1&e){const e=g.EpF();g.TgZ(0,"ion-toggle",13),g.NdJ("ionChange",function(){g.CHM(e);const n=g.oxw();return n.settings.setDarkMode(n.current.darkMode)})("ngModelChange",function(n){return g.CHM(e),g.oxw().current.darkMode=n}),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("ngModel",e.current.darkMode)}}function q(e,n){if(1&e){const e=g.EpF();g.TgZ(0,"ion-toggle",13),g.NdJ("ionChange",function(){return g.CHM(e),g.oxw().setBoolean("audio")})("ngModelChange",function(n){return g.CHM(e),g.oxw().current.audio=n}),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("ngModel",e.current.audio)}}function w(e,n){if(1&e){const e=g.EpF();g.TgZ(0,"ion-range",18),g.NdJ("ionChange",function(n){return g.CHM(e),g.oxw().setVolume(n)})("ngModelChange",function(n){return g.CHM(e),g.oxw().volume=n}),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("ngModel",e.volume)}}function y(e,n){if(1&e){const e=g.EpF();g.TgZ(0,"ion-toggle",13),g.NdJ("ionChange",function(){return g.CHM(e),g.oxw(2).setBoolean("speech")})("ngModelChange",function(n){return g.CHM(e),g.oxw(2).current.speech=n}),g.qZA()}if(2&e){const e=g.oxw(2);g.Q6J("ngModel",e.current.speech)}}function M(e,n){if(1&e&&(g.TgZ(0,"ion-item"),g.TgZ(1,"ion-label",6),g._uU(2,"Enable Speech?"),g.qZA(),g.YNc(3,y,1,1,"ion-toggle",7),g.qZA()),2&e){const e=g.oxw();g.xp6(3),g.Q6J("ngIf",e.current)}}function J(e,n){if(1&e&&(g.TgZ(0,"ion-select-option",15),g._uU(1),g.qZA()),2&e){const e=n.$implicit;g.Q6J("value",e.voiceURI),g.xp6(1),g.Oqu(e.name)}}function S(e,n){if(1&e){const e=g.EpF();g.TgZ(0,"ion-select",22),g.NdJ("ionChange",function(n){return g.CHM(e),g.oxw(2).setVoice(n)}),g.YNc(1,J,2,2,"ion-select-option",23),g.qZA()}if(2&e){const e=g.oxw(2);g.Q6J("interfaceOptions",e.voiceOptions)("value",e.current.voice),g.xp6(1),g.Q6J("ngForOf",e.voices)}}function N(e,n){if(1&e){const e=g.EpF();g.TgZ(0,"ion-item"),g.TgZ(1,"ion-icon",19),g.NdJ("click",function(n){return g.CHM(e),g.oxw().speak(n)}),g.qZA(),g.TgZ(2,"ion-label",20),g._uU(3,"Voice:"),g.qZA(),g.YNc(4,S,2,3,"ion-select",21),g.qZA()}if(2&e){const e=g.oxw();g.xp6(4),g.Q6J("ngIf",e.current&&e.voice)}}function I(e,n){if(1&e&&(g.TgZ(0,"ion-select-option",15),g._uU(1),g.qZA()),2&e){const e=n.$implicit;g.Q6J("value",e.key),g.xp6(1),g.Oqu(e.value)}}function Q(e,n){if(1&e){const e=g.EpF();g.TgZ(0,"ion-select",26),g.NdJ("ionChange",function(n){return g.CHM(e),g.oxw(2).setCommentaryLevel(n)}),g.YNc(1,I,2,2,"ion-select-option",23),g.ALo(2,"keyvalue"),g.qZA()}if(2&e){const e=g.oxw(2);g.Q6J("interfaceOptions",e.commentaryLevelOptions)("value",e.current.commentaryLevel),g.xp6(1),g.Q6J("ngForOf",g.lcZ(2,3,e.commentaryLevels))}}function Y(e,n){if(1&e&&(g.TgZ(0,"ion-item"),g.TgZ(1,"ion-label",24),g._uU(2,"Commentary Level:"),g.qZA(),g.YNc(3,Q,3,5,"ion-select",25),g.qZA()),2&e){const e=g.oxw();g.xp6(3),g.Q6J("ngIf",e.current&&e.commentaryLevel)}}function O(e,n){if(1&e&&(g.TgZ(0,"ion-select-option",15),g._uU(1),g.qZA()),2&e){const e=n.$implicit;g.Q6J("value",e.id),g.xp6(1),g.Oqu(e.fullName)}}function k(e,n){if(1&e){const e=g.EpF();g.TgZ(0,"ion-select",27),g.NdJ("ionChange",function(n){return g.CHM(e),g.oxw().setString("favoriteTeam",n)})("ngModelChange",function(n){return g.CHM(e),g.oxw().current.favoriteTeam=n}),g.YNc(1,O,2,2,"ion-select-option",28),g.qZA()}if(2&e){const e=g.oxw();g.Q6J("interfaceOptions",e.teamOptions)("ngModel",e.current.favoriteTeam),g.xp6(1),g.Q6J("ngForOf",e.teams)("ngForTrackBy",e.id)}}const U=[{path:"",component:(()=>{class e{constructor(e,n,t,o,i,a){this.database=e,this.deploy=n,this.platform=t,this.settings=o,this.updateService=i,this.voiceService=a,this.loading=!0,this.betaEnabled=!1,this.devicePlatform="web",this.hasSpeech=!1,this.teamOptions={header:"Choose Your Team"},this.voiceOptions={header:"Choose a Voice"},this.commentaryLevelOptions={header:"Choose a Commentary Level"},this.id=u.Z.trackById,this.hasSpeech=void 0!==window.speechSynthesis}ngOnInit(){return(0,r.mG)(this,void 0,void 0,function*(){yield this.platform.ready(),console.debug("SettingsPage.ngOnInit()");try{const e=yield l.A.getInfo();this.devicePlatform=e.platform,console.debug(`SettingsPage.ngOnInit(): platform=${this.devicePlatform}`)}catch(e){console.error("SettingsPage.ngOnInit(): failed to get device info:",e)}if("web"!==this.devicePlatform)try{const e=yield this.deploy.getConfiguration();this.betaEnabled="beta"===e.channel.toLowerCase(),console.debug(`SettingsPage.ngOnInit(): betaEnabled=${this.betaEnabled}`)}catch(e){console.error("SettingsPage.ngOnInit(): failed to get deploy configuration:",e)}this.current=yield this.settings.getAll(),this.volume=Math.round(1e3*this.current.volume),this.teams=(yield this.database.teams()).sort((e,n)=>e.fullName<n.fullName?-1:e.fullName>n.fullName?1:0),this.voices=this.voiceService.voices(),this.voice=yield this.voiceService.voice(this.current.voice),this.commentaryLevels=s.M,this.commentaryLevel=this.current.commentaryLevel,this.loading=!1,console.debug("SettingsPage.onInit(): current settings=",this.current)})}setBetaEnabled(){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.settings.setBetaEnabled(this.current.betaEnabled)})}getTeamName(e){const n=this.teams.find(n=>n.id===e);return n?n.fullName:""}setBoolean(e){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.settings.setBoolean(e,this.current[e])})}setString(e,n){return(0,r.mG)(this,void 0,void 0,function*(){return console.debug("setString: key=",e),console.debug("setString: ev=",n),yield this.settings.setString(e,this.current[e])})}setVolume(e){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.settings.setNumber("volume",e.detail.value/1e3)})}setVoice(e){var n,t;return(0,r.mG)(this,void 0,void 0,function*(){(yield this.voiceService.voice(null===(n=null==e?void 0:e.detail)||void 0===n?void 0:n.value))?(yield this.settings.setVoice(e.detail.value),this.speak()):console.error(`Unable to locate voice: ${null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.value}`)})}setCommentaryLevel(e){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.settings.setCommentaryLevel(parseInt(e.detail.value))})}speak(e){return(0,r.mG)(this,void 0,void 0,function*(){return null==e||e.preventDefault(),null==e||e.stopPropagation(),this.voiceService.say("The commissioner is doing a great job!",{force:!0})})}setFavoriteTeam(e){return(0,r.mG)(this,void 0,void 0,function*(){const n=this.teams.find(n=>n.id===e.value);this.settings.setFavoriteTeam(null==n?void 0:n.id)})}}return e.\u0275fac=function(n){return new(n||e)(g.Y36(d.k),g.Y36(f.g),g.Y36(a.t4),g.Y36(s.g),g.Y36(h.G),g.Y36(m.Z))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-settings"]],decls:45,vars:11,consts:[[3,"translucent"],["color","primary"],["slot","secondary"],[4,"ngIf"],["lines","none",1,"ion-text-wrap"],["lines","full"],[1,"ion-text-wrap"],["slot","end",3,"ngModel","ionChange","ngModelChange",4,"ngIf"],["aria-label","Volume","min","0","max","1000","debounce","200","slot","end",3,"ngModel","ionChange","ngModelChange",4,"ngIf"],["id","bl-team-selector"],["for","choose-your-team"],["id","choose-your-team","aria-label","Choose Your Team","class","ion-text-wrap","interface","action-sheet","okText","Choose","cancelText","Cancel",3,"interfaceOptions","ngModel","ionChange","ngModelChange",4,"ngIf"],["color","danger",4,"ngIf"],["slot","end",3,"ngModel","ionChange","ngModelChange"],["slot","start"],[3,"value"],["color","danger"],["slot","end","color","light",3,"click"],["aria-label","Volume","min","0","max","1000","debounce","200","slot","end",3,"ngModel","ionChange","ngModelChange"],["name","volume-high-outline","slot","start",1,"ion-no-margin",2,"margin-right","0.5em",3,"click"],["for","select-voice",1,"ion-text-wrap"],["id","select-voice","aria-label","Select a Voice","class","ion-text-wrap","interface","action-sheet","okText","Choose","cancelText","Cancel",3,"interfaceOptions","value","ionChange",4,"ngIf"],["id","select-voice","aria-label","Select a Voice","interface","action-sheet","okText","Choose","cancelText","Cancel",1,"ion-text-wrap",3,"interfaceOptions","value","ionChange"],[3,"value",4,"ngFor","ngForOf"],["for","choose-commetary-level",1,"ion-text-wrap"],["id","choose-commentary-level","aria-label","Choose a Commentary Level","class","ion-text-wrap","interface","action-sheet","okText","Choose","cancelText","Cancel",3,"interfaceOptions","value","ionChange",4,"ngIf"],["id","choose-commentary-level","aria-label","Choose a Commentary Level","interface","action-sheet","okText","Choose","cancelText","Cancel",1,"ion-text-wrap",3,"interfaceOptions","value","ionChange"],["id","choose-your-team","aria-label","Choose Your Team","interface","action-sheet","okText","Choose","cancelText","Cancel",1,"ion-text-wrap",3,"interfaceOptions","ngModel","ionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(e,n){1&e&&(g.TgZ(0,"ion-header",0),g.TgZ(1,"ion-toolbar",1),g.TgZ(2,"ion-title"),g._uU(3,"Slettings"),g.qZA(),g.TgZ(4,"ion-buttons",2),g.YNc(5,p,2,0,"ion-button",3),g.qZA(),g.qZA(),g.qZA(),g.TgZ(6,"ion-content"),g.TgZ(7,"ion-list",4),g.YNc(8,x,17,4,"span",3),g.TgZ(9,"ion-list-header",5),g.TgZ(10,"h3"),g._uU(11,"Interface"),g.qZA(),g.qZA(),g.TgZ(12,"ion-item"),g.TgZ(13,"ion-label",6),g._uU(14,"Reduce motion in effects?"),g.qZA(),g.YNc(15,b,1,1,"ion-toggle",7),g.qZA(),g.TgZ(16,"ion-item"),g.TgZ(17,"ion-label",6),g._uU(18,"Always use dark mode?"),g.qZA(),g.YNc(19,A,1,1,"ion-toggle",7),g.qZA(),g.TgZ(20,"ion-list-header",5),g.TgZ(21,"h3"),g._uU(22,"Audio"),g.qZA(),g.qZA(),g.TgZ(23,"ion-item"),g.TgZ(24,"ion-label",6),g._uU(25,"Enable Sound Effects?"),g.qZA(),g.YNc(26,q,1,1,"ion-toggle",7),g.qZA(),g.TgZ(27,"ion-item"),g.TgZ(28,"ion-label",6),g._uU(29,"Volume:"),g.qZA(),g.YNc(30,w,1,1,"ion-range",8),g.qZA(),g.YNc(31,M,4,1,"ion-item",3),g.YNc(32,N,5,1,"ion-item",3),g.YNc(33,Y,4,1,"ion-item",3),g.TgZ(34,"ion-list-header",5),g.TgZ(35,"h3"),g._uU(36,"Teams"),g.qZA(),g.qZA(),g.TgZ(37,"ion-item",9),g.TgZ(38,"ion-label",6),g.TgZ(39,"ion-label",10),g.TgZ(40,"h4"),g._uU(41,"Choose Your Team:"),g.qZA(),g.qZA(),g.TgZ(42,"ion-note"),g._uU(43,"Your team is always first in the live feed."),g.qZA(),g.qZA(),g.YNc(44,k,2,4,"ion-select",11),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.Q6J("translucent",!0),g.xp6(5),g.Q6J("ngIf",n.loading),g.xp6(3),g.Q6J("ngIf","web"!==n.devicePlatform),g.xp6(7),g.Q6J("ngIf",n.current),g.xp6(4),g.Q6J("ngIf",n.current),g.xp6(7),g.Q6J("ngIf",n.current),g.xp6(4),g.Q6J("ngIf",n.current),g.xp6(1),g.Q6J("ngIf",n.hasSpeech),g.xp6(1),g.Q6J("ngIf",n.hasSpeech),g.xp6(1),g.Q6J("ngIf",n.hasSpeech),g.xp6(11),g.Q6J("ngIf",n.current&&n.teams))},directives:[a.Gu,a.sr,a.wd,a.Sm,o.O5,a.W2,a.q_,a.yh,a.Ie,a.Q$,a.uN,a.YG,a.PQ,a.ho,a.w,i.JJ,i.On,a.X7,a.I_,a.QI,a.gu,a.t9,o.sg,a.n0],pipes:[o.Nd],styles:[""]}),e})()}];let _=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[c.Bz.forChild(U)],c.Bz]}),e})(),E=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[o.ez,i.u5,a.Pc,_]]}),e})()}}]);
//# sourceMappingURL=6793-es2015.73468980fbd7d5cb6479.js.map