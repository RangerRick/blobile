"use strict";(self.webpackChunkblobile=self.webpackChunkblobile||[]).push([[6558],{76558:function(t,e,n){n.r(e),n.d(e,{HttpWeb:function(){return b}});var r=n(19369),o=n(41899);const c=function(){var t=(0,r.Z)(function*(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const t=r.result,n=t.substr(t.indexOf(",")+1);e(n)},r.onerror=t=>n(t),r.readAsDataURL(t)})});return function(e){return t.apply(this,arguments)}}(),i=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),s=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent),u=()=>{const t=[],e={};if(!document.cookie)return t;const n=document.cookie.split(";")||[];for(const o of n){let[t,n]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");t=s(t).trim(),n=s(n).trim(),e[t]=n}const r=Object.entries(e);for(const[o,c]of r)t.push({key:o,value:c});return t},a=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),r=((t={})=>{const e=Object.keys(t);return Object.keys(t).map(t=>t.toLocaleLowerCase()).reduce((n,r,o)=>(n[r]=t[e[o]],n),{})})(t.headers)["content-type"]||"";if(r.includes("application/x-www-form-urlencoded")){const e=new URLSearchParams;for(const[n,r]of Object.entries(t.data||{}))e.set(n,r);n.body=e.toString()}else if(r.includes("multipart/form-data")){const e=new FormData;if(t.data instanceof FormData)t.data.forEach((t,n)=>{e.append(n,t)});else for(let n of Object.keys(t.data))e.append(n,t.data[n]);n.body=e;const r=new Headers(n.headers);r.delete("content-type"),n.headers=r}else(r.includes("application/json")||"object"==typeof t.data)&&(n.body=JSON.stringify(t.data));return n},p=function(){var t=(0,r.Z)(function*(t){const e=a(t,t.webFetchExtra),n=((t,e=!0)=>t?Object.entries(t).reduce((t,n)=>{const[r,o]=n;let c,i;return Array.isArray(o)?(i="",o.forEach(t=>{c=e?encodeURIComponent(t):t,i+=`${r}=${c}&`}),i.slice(0,-1)):(c=e?encodeURIComponent(o):o,i=`${r}=${c}`),`${t}&${i}`},"").substr(1):null)(t.params,t.shouldEncodeUrlParams),r=n?`${t.url}?${n}`:t.url,o=yield fetch(r,e),i=o.headers.get("content-type")||"";let s,{responseType:u="text"}=o.ok?t:{};switch(i.includes("application/json")&&(u="json"),u){case"arraybuffer":case"blob":const t=yield o.blob();s=yield c(t);break;case"json":s=yield o.json();break;case"document":case"text":default:s=yield o.text()}const p={};return o.headers.forEach((t,e)=>{p[e]=t}),{data:s,headers:p,status:o.status,url:o.url}});return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(function*(t){return p(Object.assign(Object.assign({},t),{method:"GET"}))});return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(function*(t){return p(Object.assign(Object.assign({},t),{method:"POST"}))});return function(e){return t.apply(this,arguments)}}(),d=function(){var t=(0,r.Z)(function*(t){return p(Object.assign(Object.assign({},t),{method:"PUT"}))});return function(e){return t.apply(this,arguments)}}(),h=function(){var t=(0,r.Z)(function*(t){return p(Object.assign(Object.assign({},t),{method:"PATCH"}))});return function(e){return t.apply(this,arguments)}}(),y=function(){var t=(0,r.Z)(function*(t){return p(Object.assign(Object.assign({},t),{method:"DELETE"}))});return function(e){return t.apply(this,arguments)}}();class b extends o.Uw{constructor(){var t;super(),t=this,this.request=function(){var t=(0,r.Z)(function*(t){return p(t)});return function(e){return t.apply(this,arguments)}}(),this.get=function(){var t=(0,r.Z)(function*(t){return f(t)});return function(e){return t.apply(this,arguments)}}(),this.post=function(){var t=(0,r.Z)(function*(t){return l(t)});return function(e){return t.apply(this,arguments)}}(),this.put=function(){var t=(0,r.Z)(function*(t){return d(t)});return function(e){return t.apply(this,arguments)}}(),this.patch=function(){var t=(0,r.Z)(function*(t){return h(t)});return function(e){return t.apply(this,arguments)}}(),this.del=function(){var t=(0,r.Z)(function*(t){return y(t)});return function(e){return t.apply(this,arguments)}}(),this.getCookiesMap=(0,r.Z)(function*(){const t=u(),e={};for(const n of t)e[n.key]=n.value;return e}),this.getCookies=function(){var t=(0,r.Z)(function*(t){return{cookies:u()}});return function(e){return t.apply(this,arguments)}}(),this.setCookie=function(){var t=(0,r.Z)(function*(t){const{key:e,value:n,expires:r="",path:o=""}=t;((t,e,n={})=>{const r=i(t),o=i(e),c=`; expires=${(n.expires||"").replace("expires=","")}`,s=(n.path||"/").replace("path=","");document.cookie=`${r}=${o||""}${c}; path=${s}`})(e,n,{expires:r,path:o})});return function(e){return t.apply(this,arguments)}}(),this.getCookie=function(){var t=(0,r.Z)(function*(t){return(t=>{const e=u();for(const n of e)if(n.key===t)return n;return{key:t,value:""}})(t.key)});return function(e){return t.apply(this,arguments)}}(),this.deleteCookie=function(){var t=(0,r.Z)(function*(t){document.cookie=`${t.key}=; Max-Age=0`});return function(e){return t.apply(this,arguments)}}(),this.clearCookies=function(){var t=(0,r.Z)(function*(t){return(()=>{const t=document.cookie.split(";")||[];for(const e of t)document.cookie=e.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)})()});return function(e){return t.apply(this,arguments)}}(),this.uploadFile=function(){var e=(0,r.Z)(function*(e){const n=new FormData;n.append(e.name,e.blob||"undefined");const r=Object.assign(Object.assign({},e),{body:n,method:"POST"});return t.post(r)});return function(t){return e.apply(this,arguments)}}(),this.downloadFile=function(){var t=(0,r.Z)(function*(t){const e=a(t,t.webFetchExtra);return{blob:yield(yield fetch(t.url,e)).blob()}});return function(e){return t.apply(this,arguments)}}()}}}}]);
//# sourceMappingURL=6558-es2015.1b6b0561935ec6ee9677.js.map